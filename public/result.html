<!doctype html>
<html lang='en'>

<head>
<meta http-equiv="Content-type" content="text/html" charset="utf-8">
<title>meta</title>
<link rel='stylesheet' href='/stylesheets/result.css'><link>
<script type="text/javascript" src="/javascripts/jquery.js"></script>
<script type="text/javascript" src="/javascripts/jquery.validate.min.js"></script>
<script type="text/javascript">
<!--
function isNumber (numval) {
  // チェック条件パターン
  var pattern = /^[-]?([1-9]\d*|0)(\.\d+)?$/;
  // 数値チェック
  return pattern.test(numval);
}

function checkresult() {
  var flag_r = 0;

  var gop1 = document.formresult.getobj_p1.value;
  if (gop1 == "") {
		flag_r = 1;
  } else if (!isNumber(gop1)) {
    flag_r = 2;
  }

	var gop2 = document.formresult.getobj_p2.value;
  if (gop2 == "") {
		flag_r = 1;
  } else if (!isNumber(gop2)) {
    flag_r = 2;
  }

  var gof1 = document.formresult.getobj_f1.value;
  if (gof1 == "") {
		flag_r = 1;
  } else if (!isNumber(gof1)) {
    flag_r = 2;
  }

  var gof2 = document.formresult.getobj_f2.value;
  if (gof2 == "") {
		flag_r = 1;
  } else if (!isNumber(gof2)) {
    flag_r = 2;
  }

  var dst1 = document.formresult.destroy1.value;
  if (dst1 == "") {
		flag_r = 1;
  } else if (!isNumber(dst1)) {
    flag_r = 2;
  }

  var dst2 = document.formresult.destroy2.value;
  if (dst2 == "") {
		flag_r = 1;
  } else if (!isNumber(dst2)) {
    flag_r = 2;
  }

  var rty1 = document.formresult.retry1.value;
  if (rty1 == "") {
		flag_r = 1;
  } else if (!isNumber(rty1)) {
    flag_r = 2;
  }

  var rty2 = document.formresult.retry2.value;
  if (rty2 == "") {
		flag_r = 1;
  } else if (!isNumber(rty2)) {
    flag_r = 2;
  }

	var inv1 = document.formresult.invalid1.value;
  if (inv1 == "") {
		flag_r = 1;
  } else if (!isNumber(inv1)) {
    flag_r = 2;
  }

  var inv2 = document.formresult.invalid2.value;
  if (inv2 == "") {
		flag_r = 1;
  } else if (!isNumber(inv2)) {
    flag_r = 2;
  }

	if (flag_r == 3) {
    window.alert('半角英字以外の入力があります');
    return false;
  } else if (flag_r == 2) {
    window.alert('半角数字以外の入力があります');
		return false;
  } else if (flag_r == 1) {
		window.alert('必須項目に記入漏れがあります');
		return false;
	} else {
		return true;
	}
}
// -->
</script>
</head>

<body>
  <div id="content">
    <h1>試合結果</h1><br>
  </div>

  <form method="POST", action="/result" name="formresult" onsubmit="return checkresult()">
    <div id="total">
      (Vゴール達成時のみ記入)
    <p>
      チャイヨー: <input type="radio" id="vgoal" name="vgoal">
      チャイヨータイム: <input type="text" id="vtime" name="vtime" size="5" maxlength="4">
      <!--
        TODO:
      -->
    </p>
    </div>
    <h3>(必須)</h3>
      <p>
        勝利チーム: <select name="winner">
          <option value="team1">青チーム</option>
          <option value="team2">赤チーム</option>
        </select>
      </p>
    <br>
    <div id="team1">
      青チーム
      <br>
      受け渡しゾーンのオブジェクト: <input type="text" id="getobj_p1" name="getobj_p1" size="5" maxlength="3">
      <br>
      支配陣地内のオブジェクト: <input type="text" id="getobj_f1" name="getobj_f1" size="5" maxlength="3">
      <br>
      崩した回数: <input type="text" id="destroy1" name="destroy1" size="3" maxlength="1">
      リトライ回数: <input type="text" id="retry1" name="retry1" size="3" maxlength="1">
      違反回数: <input type="text" id="invalid1" name="invalid1" size="3" maxlength="1">
      <br>
    </div>
    <div id="team2">
      <br>
      赤チーム
      <br>
      受け渡しゾーンのオブジェクト: <input type="text" id="getobj_p2" name="getobj_p2" size="5" maxlength="3">
      <br>
      支配陣地内のオブジェクト: <input type="text" id="getobj_f2" name="getobj_f2" size="5" maxlength="3">
      <br>
      崩した回数: <input type="text" id="destroy2" name="destroy2" size="3" maxlength="1">
      リトライ回数: <input type="text" id="retry2" name="retry2" size="3" maxlength="1">
      違反回数: <input type="text" id="invalid2" name="invalid2" size="3" maxlength="1">
      <br>
    </div>
    <br>

    <h4>縄張りゾーン</h4>
    記入は blue or red, 積まれた個数 の順に行う
    <br>例) b:<input type="radio" value="on"> r:<input type="radio"> <input type="text" size="1" value="4">
    <table border=1>
    <tr>
    <td colspan="7">　　　　　　　　　　　自動機ゾーン側</td>
  <!--
    <td>商品名</td>
    <td>数量</td>
    <td>サイズ</td>
    <td>単価(元)</td>
    <td>備考(色等)</td>
  -->
    </tr>
    <tr>
    <td rowspan="3">青</td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td rowspan="3">赤</td>
    </tr>
    <tr>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    <td>b:<input type="checkbox" name="donatecolor" value="blue"> r:<input type="checkbox" name="donatecolor" value="red"> 　<input type="text" name="height" size="1"></td>
    </tr>
    </table>

    <br>
    <br>
    付加情報 <input type="text" id="comment" name="comment" size="40">
    <br>
    <input type="reset" value="リセット">
    <input type="submit" value="提出">
  </form>
  <br>
  <div id="ref">
  <a href="/meta.html" target="_self">キャンセル</a>
  <a href="/index.html" target="_self">トップ</a>
  </div>
  <br>
</body>
</html>
